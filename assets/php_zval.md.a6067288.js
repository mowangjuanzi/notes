import{_ as s,c as n,o as a,O as l}from"./chunks/framework.d7e37bdc.js";const b=JSON.parse('{"title":"zval 及其使用","description":"","frontmatter":{},"headers":[],"relativePath":"php/zval.md","filePath":"php/zval.md","lastUpdated":1683679870000}'),p={name:"php/zval.md"},e=l(`<h1 id="zval-及其使用" tabindex="-1">zval 及其使用 <a class="header-anchor" href="#zval-及其使用" aria-label="Permalink to &quot;zval 及其使用&quot;">​</a></h1><h2 id="zval-struct" tabindex="-1"><code>_zval_struct</code> <a class="header-anchor" href="#zval-struct" aria-label="Permalink to &quot;\`_zval_struct\`&quot;">​</a></h2><div class="language-c line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">struct</span><span style="color:#A6ACCD;"> _zval_struct </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">	zend_value        value</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;">			/* value */</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#C792EA;">union</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#C792EA;">uint32_t</span><span style="color:#F07178;"> type_info</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#C792EA;">struct</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">			</span><span style="color:#82AAFF;">ZEND_ENDIAN_LOHI_3</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#F07178;">				zend_uchar    type</span><span style="color:#89DDFF;">,</span><span style="color:#676E95;font-style:italic;">			/* active type */</span></span>
<span class="line"><span style="color:#F07178;">				zend_uchar    type_flags</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">				</span><span style="color:#C792EA;">union</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">					</span><span style="color:#C792EA;">uint16_t</span><span style="color:#F07178;">  extra</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;">        /* not further specified */</span></span>
<span class="line"><span style="color:#F07178;">				</span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> u</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> v</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> u1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#C792EA;">union</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#C792EA;">uint32_t</span><span style="color:#F07178;">     next</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;">                 /* hash collision chain */</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#C792EA;">uint32_t</span><span style="color:#F07178;">     cache_slot</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;">           /* cache slot (for RECV_INIT) */</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#C792EA;">uint32_t</span><span style="color:#F07178;">     opline_num</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;">           /* opline number (for FAST_CALL) */</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#C792EA;">uint32_t</span><span style="color:#F07178;">     lineno</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;">               /* line number (for ast nodes) */</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#C792EA;">uint32_t</span><span style="color:#F07178;">     num_args</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;">             /* arguments number for EX(This) */</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#C792EA;">uint32_t</span><span style="color:#F07178;">     fe_pos</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;">               /* foreach position */</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#C792EA;">uint32_t</span><span style="color:#F07178;">     fe_iter_idx</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;">          /* foreach iterator index */</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#C792EA;">uint32_t</span><span style="color:#F07178;">     property_guard</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;">       /* single property guard */</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#C792EA;">uint32_t</span><span style="color:#F07178;">     constant_flags</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;">       /* constant flags */</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#C792EA;">uint32_t</span><span style="color:#F07178;">     extra</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;">                /* not further specified */</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> u2</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">};</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h2 id="zend-value" tabindex="-1">zend_value <a class="header-anchor" href="#zend-value" aria-label="Permalink to &quot;zend_value&quot;">​</a></h2><div class="language-c line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">typedef</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">union</span><span style="color:#A6ACCD;"> _zend_value </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">	zend_long         lval</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;">				/* long value */</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#C792EA;">double</span><span style="color:#F07178;">            dval</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;">				/* double value */</span></span>
<span class="line"><span style="color:#F07178;">	zend_refcounted  </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;">counted</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	zend_string      </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;">str</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	zend_array       </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;">arr</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	zend_object      </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;">obj</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	zend_resource    </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;">res</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	zend_reference   </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;">ref</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	zend_ast_ref     </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;">ast</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	zval             </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;">zv</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#C792EA;">void</span><span style="color:#F07178;">             </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;">ptr</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	zend_class_entry </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;">ce</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	zend_function    </span><span style="color:#89DDFF;">*</span><span style="color:#F07178;">func</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#C792EA;">struct</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#C792EA;">uint32_t</span><span style="color:#F07178;"> w1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">		</span><span style="color:#C792EA;">uint32_t</span><span style="color:#F07178;"> w2</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">	</span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> ww</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> zend_value</span><span style="color:#89DDFF;">;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div>`,5),o=[e];function t(r,c,i,y,F,D){return a(),n("div",null,o)}const _=s(p,[["render",t]]);export{b as __pageData,_ as default};
